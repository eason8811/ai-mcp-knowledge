è¯·æ ¹æ®ä»¥ä¸‹ä¿¡æ¯ï¼Œç¼–å†™UIå¯¹æ¥æœåŠ¡ç«¯æ¥å£ï¼›

æµå¼GETè¯·æ±‚æ¥å£ï¼Œç”± SpringBoot Spring AI æ¡†æ¶å®ç°ï¼Œå¦‚ä¸‹ï¼›

/**
 * curl -L -X GET 'http://127.0.0.1:8080/mcp/api/heat/point/analyse'
 */
/**
 * çƒ­ç‚¹åˆ†æç½‘ç»œæ¥å£, å¯¹ç”¨æˆ·æä¾›çš„æç¤ºè¯è·å–ç›¸åº”çš„çƒ­ç‚¹ä¿¡æ¯è¿›è¡Œåˆ†æ, ç„¶åæµå¼è¿”å›çƒ­ç‚¹åˆ†ææŠ¥å‘Š
 *
 * @param userPrompt ç”¨æˆ·æç¤ºè¯
 * @return æµå¼è¿”å›çƒ­ç‚¹åˆ†ææŠ¥å‘Š
 */
@GetMapping("/heat/point/analyse")
public Flux<ChatResponse> heatPointAnalyse(String userPrompt) {
    ChatClient chatClient = chatClientBuilder
            .defaultToolCallbacks(toolCallbackProvider)
            .defaultOptions(OpenAiChatOptions.builder().model("gpt-4o").build())
            .build();

    SystemMessage systemMessage = new SystemPromptTemplate(systemPrompt).create().getSystemMessage();
    UserMessage userMessage = new UserMessage(userPrompt);

    return chatClient.prompt(new Prompt(List.of(systemMessage, userMessage))).stream().chatResponse();
}

æµå¼GETåº”ç­”æ•°æ®ï¼Œæ•°ç»„ä¸­çš„ä¸€æ¡å¯¹è±¡ï¼›

        [
        {
        "result": {
        "output": {
        "messageType": "ASSISTANT",
        "properties": {
        "id": "chatcmpl-B3HPw95SsqmhoWeJ8azGLxK1Vf4At",
        "role": "ASSISTANT",
        "finishReason": ""
        },
        "content": "1",
        "media": []
        },
        "metadata": {
        "finishReason": null,
        "contentFilterMetadata": null
        }
        }
        }
        ]

å¦‚æè¿°è¯´æ˜ï¼Œå¸®æˆ‘ç¼–å†™ä¸€æ¬¾ AI å¯¹è¯é¡µé¢ã€‚

        1. è¾“å…¥å†…å®¹ï¼Œç‚¹å‡»å‘é€æŒ‰é’®ï¼Œè°ƒç”¨æœåŠ¡ç«¯æµå¼è¯·æ±‚æ¥å£ï¼Œå‰ç«¯æ¸²æŸ“å±•ç¤ºã€‚
        2. æ ·å¼ä»¿ç…§ OpenAI Chat GPT çš„å¯¹è¯èŠå¤©é¡µé¢, éœ€è¦æ˜¯æš—é»‘æ¨¡å¼ï¼Œé™¤éç‰¹åˆ«æŒ‡æ˜ï¼Œå¦åˆ™å­—ä½“é¢œè‰²ä¸º rgb(255, 255, 255)ï¼Œå­—ä½“æ ˆä½¿ç”¨ 'ui-sans-serif, -apple-system, system-ui, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"'ï¼Œä¸»é¡µé¢èƒŒæ™¯é¢œè‰²ä¸»è¦ä¸º rgb(33, 33, 33)ï¼Œ ä½†æ˜¯ä¸éœ€è¦é™¤äº†å¯¹è¯ä¹‹å¤–çš„å…¶ä»–è¯¸å¦‚æ–‡ä»¶ä¸Šä¼ , è”ç½‘ç­‰åŠŸèƒ½ã€‚
        3. é€šè¿‡ const eventSource = new EventSource(apiUrl); è°ƒç”¨apiæ¥å£ã€‚
        4. ä» result.output.content è·å–ï¼Œåº”ç­”çš„æ–‡æœ¬å±•ç¤ºã€‚æ³¨æ„ content å¯èƒ½ä¸ºç©ºã€‚
        5. ä» result.metadata.finishReason = STOP è·å–ï¼Œç»“æŸæ ‡è¯†ã€‚
        6. é¡µé¢å·¦è¾¹éœ€è¦æœ‰å†å²å¯¹è¯æ ï¼ŒèƒŒæ™¯é¢œè‰²ä¸º #171717ï¼Œå†å²å¯¹è¯è¢«é€‰ä¸­æ—¶èƒŒæ™¯é¢œè‰²ä¸º #424242, å·²é€‰ä¸­çš„å†å²å¯¹è¯è¢« hover æ—¶èƒŒæ™¯é¢œè‰²ä¸å˜ï¼Œæœªé€‰ä¸­çš„å†å²å¯¹è¯è¢« hover æ—¶èƒŒæ™¯é¢œè‰²ä¸ºåœ¨åŸæ¥çš„èƒŒæ™¯é¢œè‰²åŸºç¡€ä¸Šå åŠ ä¸Š rgba(255, 255, 255, 0.1) é¢œè‰²ï¼Œ å†å²å¯¹è¯è¢«ç‚¹å‡»æ—¶èƒŒæ™¯é¢œè‰²æ˜¯ #424242ï¼Œå†å²å¯¹è¯æ çš„ Tab è¦ç”¨åœ†è§’å¤„ç†ï¼Œæ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨å†…éƒ¨ã€‚
        7. å½“ä¸»é¡µé¢ä¸Šæ²¡æœ‰å¯¹è¯æ—¶ï¼Œä¸è¦ä»€ä¹ˆéƒ½ä¸æ˜¾ç¤ºï¼Œå¯ä»¥æ˜¾ç¤º "ğŸ‘‹æƒ³äº†è§£ä»€ä¹ˆçƒ­ç‚¹ä¿¡æ¯ï¼Ÿ"
        8. ä½¿ç”¨ VUE3 å®ç°ï¼Œå¦‚æœéœ€è¦æ–°å»ºvueé¡¹ç›®å¹¶ç¼–è¯‘ï¼Œè¯·æŒ‡å¯¼æˆ‘ä½¿ç”¨WebStromæ„å»ºå¹¶ç¼–è¯‘é¡¹ç›®ã€‚
        9. åœ¨æ‰‹æœºç«¯å’ŒPCç«¯éƒ½éœ€è¦èƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºï¼Œé¡µé¢ä¸è¦å˜å½¢ã€‚
        10. è¾“å‡ºçš„å†…å®¹éœ€è¦è½¬æ¢ä¸º MD æ ¼å¼ã€‚
        11. è¾“å…¥æ¡†çš„èƒŒæ™¯é¢œè‰²ä½¿ç”¨ 'rgb(48, 48, 48)ã€‚
        12. è¾“å…¥æ¡†æ²¡æœ‰è¾“å…¥æ—¶ï¼Œå‘é€æŒ‰é’®ä¸å¯ç”¨ï¼Œä¸”è¾“å…¥æ¡†å†…æœ‰è¾“å…¥æç¤º â€œè¯¢é—®æƒ³äº†è§£çš„çƒ­ç‚¹â€ ä¸å¯ç”¨çš„å‘é€æŒ‰é’®é¢œè‰²ä¸º #c3c3c3 ï¼Œå‘é€æŒ‰é’®å¯ç”¨æ—¶èƒŒæ™¯é¢œè‰²ä¸º 'rgb(255, 255, 255)â€™ï¼Œå‘é€æŒ‰é’®å­—ä½“é¢œè‰²ä½¿ç”¨ #000000
        13. å¿…é¡»æ³¨æ„é¡µé¢å››å‘¨ä¸èƒ½æœ‰ç™½è¾¹ã€‚
        14. é¡µé¢å·¦è¾¹çš„å†å²å¯¹è¯æ çš„æœ€ä¸Šé¢çš„ä½ç½®å·¦è¾¹æ”¾ç½®è¿™ä¸ªSVG å›¾åƒï¼š<svg>åç»­è¡¥å……</svg>ï¼Œé«˜åº¦ä¸æ™®é€šçš„å†å²å¯¹è¯Tabå¤§çº¦ä¸€è‡´
        15. é¡µé¢å·¦è¾¹çš„å†å²å¯¹è¯æ logoå›¾åƒä¹‹ä¸‹æ˜¯"æ–°èŠå¤©" æŒ‰é’®çš„ä½ç½®, æŒ‰é’®çš„æœ€å·¦ä¾§æ”¾ç½®è¿™ä¸ª SVG å›¾åƒ: <svg>åç»­è¡¥å……</svg>ï¼Œå›¾åƒçš„å³ä¾§æ˜¯ "æ–°èŠå¤©" å­—æ ·ï¼Œé«˜åº¦ä¸æ™®é€šçš„å†å²å¯¹è¯Tabå¤§çº¦ä¸€è‡´ï¼Œä¹Ÿéœ€è¦ä½¿ç”¨åœ†è§’å¤„ç†
        16. æ–°èŠå¤©æŒ‰é’®ä¸‹æ–¹ç•™ç©ºå‡ºçº¦ä¸€ä¸ªTabçš„é«˜åº¦
        17. æ³¨æ„æ•´ä½“æ ·å¼çš„ç®€æ´ç¾è§‚ã€‚


GPT Logo    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-xl-heavy"><path d="M13.5714 22.5C12.8776 22.5 12.2185 22.367 11.5942 22.101C10.9698 21.835 10.4148 21.464 9.92914 20.988C9.40188 21.17 8.85382 21.261 8.28494 21.261C7.3553 21.261 6.49504 21.03 5.70416 20.568C4.91328 20.106 4.27502 19.476 3.7894 18.678C3.31764 17.88 3.08176 16.991 3.08176 16.011C3.08176 15.605 3.13726 15.164 3.24827 14.688C2.69326 14.17 2.26313 13.575 1.95788 12.903C1.65263 12.217 1.5 11.503 1.5 10.761C1.5 10.005 1.65956 9.277 1.97869 8.577C2.29782 7.877 2.74182 7.275 3.3107 6.771C3.89346 6.253 4.5664 5.896 5.32953 5.7C5.48216 4.902 5.80129 4.188 6.28692 3.558C6.78642 2.914 7.39693 2.41 8.11843 2.046C8.83994 1.682 9.61001 1.5 10.4286 1.5C11.1224 1.5 11.7815 1.633 12.4058 1.899C13.0302 2.165 13.5852 2.536 14.0709 3.012C14.5981 2.83 15.1462 2.739 15.7151 2.739C16.6447 2.739 17.505 2.97 18.2958 3.432C19.0867 3.894 19.718 4.524 20.1898 5.322C20.6754 6.12 20.9182 7.009 20.9182 7.989C20.9182 8.395 20.8627 8.836 20.7517 9.312C21.3067 9.83 21.7369 10.432 22.0421 11.118C22.3474 11.79 22.5 12.497 22.5 13.239C22.5 13.995 22.3404 14.723 22.0213 15.423C21.7022 16.123 21.2512 16.732 20.6685 17.25C20.0996 17.754 19.4336 18.104 18.6705 18.3C18.5178 19.098 18.1918 19.812 17.6923 20.442C17.2066 21.086 16.6031 21.59 15.8816 21.954C15.1601 22.318 14.39 22.5 13.5714 22.5ZM8.47225 19.644C9.12438 19.644 9.7002 19.497 10.1997 19.203L13.9668 17.019C14.1194 16.921 14.1957 16.788 14.1957 16.62V15.15L9.55451 17.838C9.12438 18.09 8.69425 18.09 8.26412 17.838L4.68434 15.759C4.68434 15.773 4.68434 15.794 4.68434 15.822C4.68434 15.85 4.68434 15.885 4.68434 15.927C4.68434 16.613 4.8439 17.243 5.16303 17.817C5.49604 18.377 5.95391 18.818 6.53667 19.14C7.11942 19.476 7.76462 19.644 8.47225 19.644ZM8.65956 16.221C8.74281 16.277 8.81913 16.305 8.8885 16.305C8.95788 16.291 9.03419 16.263 9.11744 16.221L10.387 15.507L5.7666 12.777C5.33647 12.539 5.12141 12.161 5.12141 11.643V7.506C4.5109 7.828 4.02527 8.283 3.66452 8.871C3.31764 9.445 3.1442 10.082 3.1442 10.782C3.1442 11.44 3.30377 12.07 3.62289 12.672C3.9559 13.26 4.38603 13.708 4.91328 14.016L8.65956 16.221ZM13.5505 20.862C14.2582 20.862 14.8964 20.701 15.4653 20.379C16.0342 20.057 16.4782 19.616 16.7973 19.056C17.1303 18.496 17.2968 17.873 17.2968 17.187V12.819C17.2968 12.637 17.2205 12.504 17.0679 12.42L15.7983 11.643V17.061C15.7983 17.579 15.5833 17.957 15.1531 18.195L11.5942 20.274C12.2047 20.666 12.8568 20.862 13.5505 20.862ZM14.1957 13.323V10.677L12.0104 9.417L9.80426 10.677V13.323L12.0104 14.583L14.1957 13.323ZM8.20168 6.939C8.20168 6.421 8.41675 6.043 8.84688 5.805L12.4058 3.726C11.7953 3.334 11.1432 3.138 10.4495 3.138C9.7557 3.138 9.12438 3.299 8.5555 3.621C7.98662 3.943 7.53568 4.384 7.20268 4.944C6.88355 5.504 6.72398 6.127 6.72398 6.813V11.16C6.72398 11.328 6.8003 11.468 6.95292 11.58L8.20168 12.357V6.939ZM18.8994 16.494C19.496 16.186 19.9678 15.738 20.3147 15.15C20.6754 14.562 20.8558 13.918 20.8558 13.218C20.8558 12.56 20.6893 11.937 20.3563 11.349C20.0372 10.747 19.614 10.292 19.0867 9.984L15.3404 7.8C15.2572 7.744 15.1809 7.723 15.1115 7.737C15.0421 7.737 14.9658 7.758 14.8826 7.8L13.613 8.493L18.2542 11.244C18.4762 11.37 18.6358 11.524 18.7329 11.706C18.8439 11.874 18.8994 12.091 18.8994 12.357V16.494ZM14.4455 6.12C14.8756 5.854 15.3057 5.854 15.7359 6.12L19.3157 8.241C19.3157 8.199 19.3157 8.157 19.3157 8.115C19.3157 7.471 19.1561 6.862 18.837 6.288C18.5317 5.7 18.0877 5.231 17.505 4.881C16.9361 4.531 16.277 4.356 15.5277 4.356C14.8756 4.356 14.2998 4.503 13.8003 4.797L10.0332 6.981C9.88057 7.079 9.80426 7.212 9.80426 7.38V8.85L14.4455 6.12Z" fill="rgb(255, 255, 255)"></path></svg>
æ–°èŠå¤©       <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="icon-md" aria-hidden="true"><path d="M15.6729 3.91287C16.8918 2.69392 18.8682 2.69392 20.0871 3.91287C21.3061 5.13182 21.3061 7.10813 20.0871 8.32708L14.1499 14.2643C13.3849 15.0293 12.3925 15.5255 11.3215 15.6785L9.14142 15.9899C8.82983 16.0344 8.51546 15.9297 8.29289 15.7071C8.07033 15.4845 7.96554 15.1701 8.01005 14.8586L8.32149 12.6785C8.47449 11.6075 8.97072 10.615 9.7357 9.85006L15.6729 3.91287ZM18.6729 5.32708C18.235 4.88918 17.525 4.88918 17.0871 5.32708L11.1499 11.2643C10.6909 11.7233 10.3932 12.3187 10.3014 12.9613L10.1785 13.8215L11.0386 13.6986C11.6812 13.6068 12.2767 13.3091 12.7357 12.8501L18.6729 6.91287C19.1108 6.47497 19.1108 5.76499 18.6729 5.32708ZM11 3.99929C11.0004 4.55157 10.5531 4.99963 10.0008 5.00007C9.00227 5.00084 8.29769 5.00827 7.74651 5.06064C7.20685 5.11191 6.88488 5.20117 6.63803 5.32695C6.07354 5.61457 5.6146 6.07351 5.32698 6.63799C5.19279 6.90135 5.10062 7.24904 5.05118 7.8542C5.00078 8.47105 5 9.26336 5 10.4V13.6C5 14.7366 5.00078 15.5289 5.05118 16.1457C5.10062 16.7509 5.19279 17.0986 5.32698 17.3619C5.6146 17.9264 6.07354 18.3854 6.63803 18.673C6.90138 18.8072 7.24907 18.8993 7.85424 18.9488C8.47108 18.9992 9.26339 19 10.4 19H13.6C14.7366 19 15.5289 18.9992 16.1458 18.9488C16.7509 18.8993 17.0986 18.8072 17.362 18.673C17.9265 18.3854 18.3854 17.9264 18.673 17.3619C18.7988 17.1151 18.8881 16.7931 18.9393 16.2535C18.9917 15.7023 18.9991 14.9977 18.9999 13.9992C19.0003 13.4469 19.4484 12.9995 20.0007 13C20.553 13.0004 21.0003 13.4485 20.9999 14.0007C20.9991 14.9789 20.9932 15.7808 20.9304 16.4426C20.8664 17.116 20.7385 17.7136 20.455 18.2699C19.9757 19.2107 19.2108 19.9756 18.27 20.455C17.6777 20.7568 17.0375 20.8826 16.3086 20.9421C15.6008 21 14.7266 21 13.6428 21H10.3572C9.27339 21 8.39925 21 7.69138 20.9421C6.96253 20.8826 6.32234 20.7568 5.73005 20.455C4.78924 19.9756 4.02433 19.2107 3.54497 18.2699C3.24318 17.6776 3.11737 17.0374 3.05782 16.3086C2.99998 15.6007 2.99999 14.7266 3 13.6428V10.3572C2.99999 9.27337 2.99998 8.39922 3.05782 7.69134C3.11737 6.96249 3.24318 6.3223 3.54497 5.73001C4.02433 4.7892 4.78924 4.0243 5.73005 3.54493C6.28633 3.26149 6.88399 3.13358 7.55735 3.06961C8.21919 3.00673 9.02103 3.00083 9.99922 3.00007C10.5515 2.99964 10.9996 3.447 11 3.99929Z" fill="rgb(255, 255, 255)"></path></svg>
åƒåœ¾æ¡¶       <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-md" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.5555 4C10.099 4 9.70052 4.30906 9.58693 4.75114L9.29382 5.8919H14.715L14.4219 4.75114C14.3083 4.30906 13.9098 4 13.4533 4H10.5555ZM16.7799 5.8919L16.3589 4.25342C16.0182 2.92719 14.8226 2 13.4533 2H10.5555C9.18616 2 7.99062 2.92719 7.64985 4.25342L7.22886 5.8919H4C3.44772 5.8919 3 6.33961 3 6.8919C3 7.44418 3.44772 7.8919 4 7.8919H4.10069L5.31544 19.3172C5.47763 20.8427 6.76455 22 8.29863 22H15.7014C17.2354 22 18.5224 20.8427 18.6846 19.3172L19.8993 7.8919H20C20.5523 7.8919 21 7.44418 21 6.8919C21 6.33961 20.5523 5.8919 20 5.8919H16.7799ZM17.888 7.8919H6.11196L7.30423 19.1057C7.3583 19.6142 7.78727 20 8.29863 20H15.7014C16.2127 20 16.6417 19.6142 16.6958 19.1057L17.888 7.8919ZM10 10C10.5523 10 11 10.4477 11 11V16C11 16.5523 10.5523 17 10 17C9.44772 17 9 16.5523 9 16V11C9 10.4477 9.44772 10 10 10ZM14 10C14.5523 10 15 10.4477 15 11V16C15 16.5523 14.5523 17 14 17C13.4477 17 13 16.5523 13 16V11C13 10.4477 13.4477 10 14 10Z" fill="currentColor"></path></svg>

<style>
html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    background: rgb(33,33,33);
}
#app {
    min-height: 100vh;
    height: 100%;
}
</style>